---
# defaults taken from Debian PostgreSQL 13 package
# name of the postgresql daemon / service name
pg_daemon: 'postgresql'

# path for configuration file
pg_conf_path: '/etc/postgresql/13/main/postgresql.conf'

# databases to create
# keys: name
pgdb_databases: []

# users to create
# keys: db, name, password, comment
pgdb_users: []

# authorizations
# keys: db, privs (ALL or other), role, type
pgdb_privileges: []

# extensions
# keys: name, db, cascade (yes/no)
pgdb_extensions: []

# settings for pg configuration file
# general
pg_data_directory: '/var/lib/postgresql/13/main'
pg_hba_file: '/etc/postgresql/13/main/pg_hba.conf'
pg_ident_file: '/etc/postgresql/13/main/pg_ident.conf'
pg_external_pid_file: '/var/run/postgresql/13-main.pid'			# write an extra PID file
pg_listen_addresses: ['::1', '127.0.0.1']
pg_port: 5432
pg_superuser_reserved_connections: 3
pg_unix_socket_directories: '/var/run/postgresql'
pg_unix_socket_group: ''			# (change requires restart)
pg_unix_socket_permissions: 0777		# begin with 0 to use octal notation
pg_bonjour: 'off'				# advertise server via Bonjour
pg_bonjour_name: ''			# defaults to the computer name

# TCP
pg_tcp_keepalives_idle: 0		# TCP_KEEPIDLE, in seconds; 0 = sys default
pg_tcp_keepalives_interval: 0		# TCP_KEEPINTVL, in seconds; 0 = sys default
pg_tcp_keepalives_count:  0		# TCP_KEEPCNT; 0 = sys default
pg_tcp_user_timeout: 0			# TCP_USER_TIMEOUT, in milliseconds; 0 = sys default

# Auth
pg_authentication_timeout_sec: '60'		# 1s-600s
pg_password_encryption: 'md5'		# md5 or scram-sha-256
pg_db_user_namespace: 'off'

# GSSAPI using Kerberos
pg_krb_server_keyfile: 'FILE:${sysconfdir}/krb5.keytab'
pg_krb_caseins_users: 'off'

# SSL
pg_ssl: 'on'
pg_ssl_ca_file: ''
pg_ssl_cert_file: '/etc/ssl/certs/ssl-cert-snakeoil.pem'
pg_ssl_crl_file: ''
pg_ssl_key_file: '/etc/ssl/private/ssl-cert-snakeoil.key'
pg_ssl_ciphers: 'HIGH:MEDIUM:+3DES:!aNULL' # allowed SSL ciphers
pg_ssl_prefer_server_ciphers: on
pg_ssl_ecdh_curve: 'prime256v1'
pg_ssl_min_protocol_version: 'TLSv1.2'
pg_ssl_max_protocol_version: ''
pg_ssl_dh_params_file: ''
pg_ssl_passphrase_command: ''
pg_ssl_passphrase_command_supports_reload: 'off'

# Query tuning
pg_random_page_cost: 4.0

# Memory
pg_work_mem_kb: 4000
pg_shared_buffers_kb: 128000
pg_shared_buffers_percent: '' # percentage of total host memory. if set, will take precedence over shared_buffers_kb.
pg_max_connections: 100
pg_huge_pages: 'try'
pg_temp_buffers_kb: 8000			# min 800kB
pg_max_prepared_transactions: 0		# zero disables the feature
# Caution: it is not advisable to set max_prepared_transactions nonzero unless
# you actively intend to use prepared transactions.
pg_hash_mem_multiplier: 1.0		# 1-1000.0 multiplier on hash table work_mem
pg_maintenance_work_mem_kb: 64000		# min 1MB
pg_autovacuum_work_mem_kb: -1		# min 1MB, or -1 to use maintenance_work_mem
pg_logical_decoding_work_mem_kb: 64000	# min 64kB
pg_max_stack_depth_kb: 2000			# min 100kB
pg_shared_memory_type: 'mmap'		# mmap is default. you can use: mmap, sysv, windows. chg requires restart.
pg_dynamic_shared_memory_type: 'posix' # posix is default. you can use: posix, sysv, windows, mmap. chg requires restart.

# checkpoints
pg_max_wal_size_kb: 1000000000
pg_min_wal_size_kb: 80000

# log
#   %a = application name
#   %u = user name
#   %d = database name
#   %r = remote host and port
#   %h = remote host
#   %b = backend type
#   %p = process ID
#   %t = timestamp without milliseconds
#   %m = timestamp with milliseconds
#   %n = timestamp with milliseconds (as a Unix epoch)
#   %i = command tag
#   %e = SQL state
#   %c = session ID
#   %l = session line number
#   %s = session start timestamp
#   %v = virtual transaction ID
#   %x = transaction ID (0 if none)
#   %q = stop here in non-session
#        processes
#   %% = '%'
# e.g. '<%u%%%d> '
pg_log_line_prefix: '%m [%p] %q%u@%d '
pg_log_timezone: 'Etc/UTC'

# process title
pg_cluster_name: '13/main'			# added to process titles if nonempty

# statistics
pg_stats_temp_directory: '/var/run/postgresql/13-main.pg_stat_tmp'

# client defaults
pg_datestyles: ['iso', 'mdy']
pg_intervalstyle: 'postgres'
pg_timezone: 'Etc/UTC'
pg_lc_messages: 'C.UTF-8'			# locale for system error message strings
pg_lc_monetary: 'C.UTF-8'			# locale for monetary formatting
pg_lc_numeric: 'C.UTF-8'			# locale for number formatting
pg_lc_time: 'C.UTF-8'				# locale for time formatting
pg_default_text_search_config: 'pg_catalog.english' # default configuration for text search

# config includes
pg_include_dir: 'conf.d'			# include files ending in '.conf' from a directory, e.g., 'conf.d'
pg_includes_if_exists: []		# include file only if it exists
